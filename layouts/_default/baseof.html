<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>{{ block "title" . }} {{- .Site.Title -}} {{ end }}</title>

    {{ partial "head.html" . }}
  </head>
  {{ if .Page.IsHome }}
    <div id="load"></div>
    <div id="contents">
      {{ if .Site.Params.background }}
      <body style="background: {{ .Site.Params.background }};">
      {{ else if .Site.Params.backgroundImage }}
      <body style="background-image: url({{ .Site.Params.backgroundImage }}); height: 100%; background-attachment: fixed;">
      {{ else }}
      <body>
      {{ end }}
        <div class="flip-container">
          <div class="flipper">
            <section class="front">
              {{ partial "nav.html" . }}
              {{ block "main" . }} {{ end }}
            </section>
            <section class="back">
              {{ partial "nav.html" . }}
              {{ partial "back.html" . }}
            </section>
          </div>
        </div>
    
        {{ partial "footer.html" . }}
      </body>
    </div>
  {{ else }}
    {{ if .Site.Params.background }}
    <body style="background: {{ .Site.Params.background }};">
    {{ else if .Site.Params.backgroundImage }}
    <body style="background-image: url({{ .Site.Params.backgroundImage }}); height: 100%; background-attachment: fixed;">
    {{ else }}
    <body>
    {{ end }}
      <div class="flip-container">
        <div class="flipper">
          <section class="front">
            {{ partial "nav.html" . }}
            {{ block "main" . }} {{ end }}
          </section>
          <section class="back">
            {{ partial "nav.html" . }}
            {{ partial "back.html" . }}
          </section>
        </div>
      </div>

      {{ partial "footer.html" . }}
    </body>
  {{ end }}
</html>
